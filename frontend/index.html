<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gerenciamento de Estoque de Lentes</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1>üîç Sistema de Gerenciamento de Estoque de Lentes Oftalmol√≥gicas</h1>
                <p>Gerencie seu estoque de forma simples e eficiente</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-dashboard" onclick="window.location.href='/dashboard'">
                    üìä Dashboard
                </button>
                <button class="btn btn-logout" onclick="logout()">
                    Sair
                </button>
            </div>
        </header>

        <main>
            <!-- Se√ß√£o de Busca -->
            <section class="search-section">
                <div class="card">
                    <h2>üîç Buscar Lentes</h2>
                    <div class="search-form">
                        <div class="form-row">
                            <input type="text" id="buscarNome" placeholder="Nome da lente" class="form-input">
                            <input type="text" id="buscarMarca" placeholder="Marca" class="form-input">
                            <input type="text" id="buscarGrau" placeholder="Grau esf√©rico" class="form-input">
                        </div>
                        <div class="form-actions">
                            <button onclick="buscarLentes()" class="btn btn-primary">üîç Buscar</button>
                            <button onclick="carregarTodasLentes()" class="btn btn-secondary">üìã Listar Todas</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Adicionar/Editar Lente -->
            <section class="form-section">
                <div class="card">
                    <h2 id="tituloFormulario">‚ûï Adicionar Nova Lente</h2>
                    <form id="formularioLente" class="lens-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nome">Nome da Lente *</label>
                                <input type="text" id="nome" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="marca">Marca *</label>
                                <input type="text" id="marca" required class="form-input">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="grauEsferico">Grau Esf√©rico *</label>
                                <input type="text" id="grauEsferico" placeholder="Ex: -2.00, +1.50" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="grauCilindrico">Grau Cil√≠ndrico</label>
                                <input type="text" id="grauCilindrico" placeholder="Ex: -0.75, +1.25" class="form-input">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="eixo">Eixo</label>
                                <input type="text" id="eixo" placeholder="Ex: 90¬∞, 180¬∞" class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="quantidade">Quantidade *</label>
                                <input type="number" id="quantidade" min="0" required class="form-input">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="preco">Pre√ßo (R$) *</label>
                                <input type="number" id="preco" step="0.01" min="0" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label for="descricao">Descri√ß√£o</label>
                                <textarea id="descricao" rows="3" placeholder="Informa√ß√µes adicionais sobre a lente" class="form-input"></textarea>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success" id="btnSalvar">üíæ Salvar Lente</button>
                            <button type="button" class="btn btn-secondary" onclick="cancelarEdicao()">‚ùå Cancelar</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Se√ß√£o de Resumo do Estoque -->
            <section class="summary-section">
                <div class="card">
                    <h2>üìä Resumo do Estoque</h2>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <div class="summary-number" id="totalTipos">0</div>
                            <div class="summary-label">Tipos de Lentes</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-number" id="totalUnidades">0</div>
                            <div class="summary-label">Total de Unidades</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-number" id="valorTotalEstoque">R$ 0,00</div>
                            <div class="summary-label">Valor Total</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Listagem de Lentes -->
            <section class="list-section">
                <div class="card">
                    <h2>üì¶ Lentes em Estoque</h2>
                    <div class="loading" id="carregamento" style="display: none;">
                        <div class="spinner"></div>
                        Carregando lentes...
                    </div>
                    <div id="listaLentes" class="lens-grid"></div>
                </div>
            </section>

            <!-- Modal de Ajuste de Estoque -->
            <div id="modalEstoque" class="modal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>‚öñÔ∏è Ajustar Estoque</h3>
                        <button class="modal-close" onclick="fecharModalEstoque()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p><strong>Lente:</strong> <span id="nomelenteEstoque"></span></p>
                        <p><strong>Estoque Atual:</strong> <span id="estoqueAtual"></span> unidades</p>
                        
                        <div class="form-group">
                            <label for="tipoMovimento">Tipo de Movimento:</label>
                            <select id="tipoMovimento" class="form-input">
                                <option value="entrada">‚ûï Entrada (Adicionar ao estoque)</option>
                                <option value="saida">‚ûñ Sa√≠da (Remover do estoque)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="quantidadeMovimento">Quantidade:</label>
                            <input type="number" id="quantidadeMovimento" min="1" required class="form-input">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success" onclick="confirmarAjusteEstoque()">‚úÖ Confirmar</button>
                        <button class="btn btn-secondary" onclick="fecharModalEstoque()">‚ùå Cancelar</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>

